# Experiment 6: Pose-based MLP baseline configuration (SIDE VIEW - TEMPORAL)
# Temporal pose features (13 angles Ã— 50 timesteps) - Experiment #1 Enhanced
# NEW: Added ankle angles (for Calf Raises) and wrist angles (for arm curls)

dataset:
  random_seed: 42
  val_ratio: 0.15
  test_ratio: 0.30
  stratified: true
  # Select specific angles to use for training
  # Options: ['all'] to use all 13 angles, or list specific angles:
  # Available angles: ['left_elbow', 'right_elbow', 'left_shoulder', 'right_shoulder',
  #                    'left_hip', 'right_hip', 'left_knee', 'right_knee', 'torso_lean',
  #                    'left_ankle', 'right_ankle', 'left_wrist', 'right_wrist']
  # Each angle contributes temporal sequence features
  selected_angles: ['all']  # Use all 13 angles


model:
  hidden_sizes: [512, 256, 128]  # Increased capacity for 13 angles (was [384, 192, 96])
  dropout: 0.35  # Increased from 0.30 to prevent overfitting on larger features
  num_classes: 15

training:
  batch_size: 16
  lr: 0.00008
  max_epochs: 200
  optimizer: adam

callbacks:
  early_stopping:
    enabled: true
    monitor: val_loss
    patience: 60  # Increased - more features may need longer convergence
    restore_best_weights: true
    min_delta: 0.0
  reduce_lr_on_plateau:
    enabled: true
    monitor: val_loss
    factor: 0.5
    patience: 15
    min_lr: 1.0e-7
    verbose: 1

multi_run:
  enabled: true
  num_runs: 30
  base_seed: 42
  save_all_runs: true
  save_all_confusion_matrices: true
  aggregation:
    compute_stats: true
    compute_per_class_f1: true
    metrics:
      - test_accuracy
      - test_macro_f1

results:
  base_dir: /mnt/d/Graduation_Project/ai-virtual-coach/experiments/exer_recog/results/exp_06_pose_mlp_temporal/side
  save_metrics: true
  save_confusion_matrix: true
  save_history: true

memory:
  clear_session_after_run: true
  force_gc_after_run: true

metrics:
  primary: macro_f1
  secondary:
    - accuracy
    - loss
