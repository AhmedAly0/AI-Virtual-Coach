# Experiment 7: LSTM-based pose classification (SIDE VIEW - TEMPORAL)
# Temporal pose features: native sequential input (50 timesteps Ã— num_angles)

dataset:
  random_seed: 42
  val_ratio: 0.15
  test_ratio: 0.30
  stratified: true
  # Select specific angles to use for training
  # Available angles: ['left_elbow', 'right_elbow', 'left_shoulder', 'right_shoulder',
  #                    'left_hip', 'right_hip', 'left_knee', 'right_knee', 'torso_lean']
  # Each angle contributes one feature per timestep
  selected_angles: ['left_elbow', 'right_elbow', 'left_hip', 'right_hip', 'left_knee', 'right_knee', 'torso_lean']  # 7 angles


model:
  architecture: lstm
  lstm_units: 64  # Single LSTM layer (simple baseline to avoid overfitting)
  dropout: 0.3
  recurrent_dropout: 0.2
  bidirectional: false  # Keep false for baseline, can enable for future experiments
  dense_units: 64  # Dense layer after LSTM
  num_classes: 15

training:
  batch_size: 64
  lr: 0.001
  max_epochs: 80
  optimizer: adam

callbacks:
  early_stopping:
    enabled: true
    monitor: val_loss
    patience: 15
    restore_best_weights: true
    min_delta: 0.0

multi_run:
  enabled: true
  num_runs: 30
  base_seed: 42
  save_all_runs: true
  save_all_confusion_matrices: true
  aggregation:
    compute_stats: true
    compute_per_class_f1: true
    metrics:
      - test_accuracy
      - test_macro_f1

results:
  base_dir: /mnt/d/Graduation_Project/ai-virtual-coach/experiments/exer_recog/results/exp_07_pose_lstm_temporal/side
  save_metrics: true
  save_confusion_matrix: true
  save_history: true

memory:
  clear_session_after_run: true
  force_gc_after_run: true

metrics:
  primary: macro_f1
  secondary:
    - accuracy
    - loss
